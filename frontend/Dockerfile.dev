FROM node:18-alpine

WORKDIR /app

COPY package*.json ./

RUN npm install

# We don't copy source here because we mount it in docker-compose
# But for the initial build layer it's fine or we can skip it.
# Copying ensures the container has code even if volume fails, but strictly for dev volume is key.
COPY . .

EXPOSE 5173

CMD ["npm", "run", "dev", "--", "--host"]
